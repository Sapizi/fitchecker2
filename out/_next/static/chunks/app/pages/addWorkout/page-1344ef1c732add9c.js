(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{2447:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>E});var i=t(5155),r=t(8032),a=t(6874),o=t.n(a),x=t(5933),d=t(4987);function p(){let n=(0,x._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%; /* Полная ширина для мобильных */\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    padding: 0 10px; /* Добавлены отступы по бокам для мобильных */\n  }\n"]);return p=function(){return n},n}function l(){let n=(0,x._)(["\n  width: 500px;\n  max-width: 90%; /* Адаптивная ширина */\n  margin: 50px auto;\n  padding: 20px;\n  border: 2px solid #000;\n  border-radius: 10px;\n  background-color: #f9f9f9;\n  margin-top: 5%;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    margin: 20px auto; /* Меньший внешний отступ */\n    padding: 15px; /* Меньший внутренний отступ */\n    margin-top: 3%; /* Уменьшен отступ сверху */\n    gap: 8px; /* Меньший зазор между элементами */\n  }\n\n  @media (max-width: 480px) {\n    padding: 10px;\n  }\n"]);return l=function(){return n},n}function u(){let n=(0,x._)(["\n  width: 100%; /* Полная ширина */\n  height: 40px;\n  padding-left: 10px;\n  border: none;\n  font-size: 16px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    height: 36px; /* Меньшая высота */\n    font-size: 14px; /* Меньший шрифт */\n    padding-left: 8px;\n  }\n\n  @media (max-width: 480px) {\n    height: 32px;\n    font-size: 13px;\n  }\n"]);return u=function(){return n},n}function c(){let n=(0,x._)(["\n  font-size: 16px;\n  margin-top: 20px;\n  padding: 10px 20px;\n  background-color: #e97c00;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%; /* Полная ширина для единообразия */\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    margin-top: 15px;\n    padding: 8px 15px;\n    font-size: 14px;\n  }\n\n  @media (max-width: 480px) {\n    padding: 7px 10px;\n    font-size: 13px;\n  }\n"]);return c=function(){return n},n}function s(){let n=(0,x._)(["\n  width: 100%;\n  height: 40px;\n  margin-top: 10px;\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  padding-left: 10px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    height: 36px;\n    font-size: 14px;\n    margin-top: 8px;\n    padding-left: 8px;\n  }\n\n  @media (max-width: 480px) {\n    height: 32px;\n    font-size: 13px;\n  }\n"]);return s=function(){return n},n}function h(){let n=(0,x._)(["\n  width: 90%;\n  max-height: 150px;\n  overflow-y: auto;\n  margin-top: 10px;\n  padding: 10px;\n  background-color: #f0f0f0;\n  border-radius: 5px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    width: 100%; /* Полная ширина */\n    max-height: 120px; /* Меньшая высота для компактности */\n    padding: 8px;\n    margin-top: 8px;\n  }\n\n  @media (max-width: 480px) {\n    max-height: 100px;\n    padding: 6px;\n  }\n"]);return h=function(){return n},n}function m(){let n=(0,x._)(["\n  margin: 0 0 10px 0;\n  font-size: 16px;\n  font-weight: 500;\n\n  @media (max-width: 768px) {\n    font-size: 14px;\n    margin-bottom: 8px;\n  }\n\n  @media (max-width: 480px) {\n    font-size: 13px;\n  }\n"]);return m=function(){return n},n}function f(){let n=(0,x._)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n\n  @media (max-width: 768px) {\n    margin-bottom: 4px;\n    font-size: 14px; /* Уменьшен размер текста */\n  }\n\n  @media (max-width: 480px) {\n    font-size: 13px;\n  }\n"]);return f=function(){return n},n}function g(){let n=(0,x._)(["\n  margin-right: 10px;\n  width: 18px; /* Явный размер для единообразия */\n  height: 18px;\n\n  @media (max-width: 768px) {\n    width: 16px;\n    height: 16px;\n    margin-right: 8px;\n  }\n\n  @media (max-width: 480px) {\n    width: 14px;\n    height: 14px;\n  }\n"]);return g=function(){return n},n}let w=d.Ay.div(p()),b=d.Ay.form(l()),y=d.Ay.input(u()),z=d.Ay.button(c()),_=d.Ay.select(s()),v=d.Ay.div(h()),A=d.Ay.h4(m()),j=d.Ay.label(f()),k=d.Ay.input(g());var C=t(9960),I=t(5628),N=t(2115),S=t(2488);let E=()=>{let[n,e]=(0,N.useState)(""),[t,a]=(0,N.useState)(""),[x,d]=(0,N.useState)(null),[p,l]=(0,N.useState)([]),[u,c]=(0,N.useState)([]),[s,h]=(0,N.useState)([]),[m,f]=(0,N.useState)("");(0,N.useEffect)(()=>{(async()=>{let{data:n,error:e}=await S.N.from("trainers").select("id, trainer_name");e?console.error("Ошибка загрузки тренеров:",e):(console.log("Данные тренеров из Supabase:",n),c(n||[]));let{data:t,error:i}=await S.N.from("clients").select("id, name");i?console.error("Ошибка загрузки клиентов:",i):(console.log("Данные клиентов из Supabase:",t),h(t||[]))})()},[]),(0,N.useEffect)(()=>{console.log("Текущее состояние trainers:",u)},[u]);let g=n=>{l(e=>e.includes(n)?e.filter(e=>e!==n):[...e,n])},E=s.filter(n=>n.name.toLowerCase().includes(m.toLowerCase())),J=async i=>{if(i.preventDefault(),!n||!t||!x){alert("Пожалуйста, заполните все обязательные поля!");return}let{data:r,error:o}=await S.N.from("workouts").insert({workout_name:n,workout_datetime:t,trainer_id:x}).select().single();if(o){console.error("Ошибка добавления тренировки:",o),alert("Ошибка при добавлении тренировки!");return}if(p.length>0&&r){let n=p.map(n=>({workout_id:r.id,client_id:n})),{error:e}=await S.N.from("workout_clients").insert(n);if(e){console.error("Ошибка добавления клиентов:",e),alert("Тренировка добавлена, но произошла ошибка при добавлении клиентов!");return}}alert("Тренировка успешно добавлена!"),e(""),a(""),d(null),l([]),f("")};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{}),(0,i.jsxs)(I.m,{children:[(0,i.jsx)(o(),{href:"/pages/mainPage",children:"На главную"}),(0,i.jsx)(C.hE,{children:"Добавить занятие"}),(0,i.jsx)(w,{children:(0,i.jsxs)(b,{onSubmit:J,children:[(0,i.jsx)(y,{type:"text",placeholder:"Название занятия",value:n,onChange:n=>e(n.target.value)}),(0,i.jsx)(y,{type:"datetime-local",placeholder:"Дата и время",value:t,onChange:n=>a(n.target.value)}),(0,i.jsxs)(_,{value:x||"",onChange:n=>d(Number(n.target.value)),children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Выберите тренера"}),u.length>0?u.map(n=>(0,i.jsx)("option",{value:n.id,children:n.trainer_name},n.id)):(0,i.jsx)("option",{disabled:!0,children:"Тренеры не найдены"})]}),(0,i.jsx)(y,{type:"text",placeholder:"Поиск клиентов по ФИО",value:m,onChange:n=>f(n.target.value)}),(0,i.jsxs)(v,{children:[(0,i.jsx)(A,{children:"Выберите клиентов:"}),E.length>0?E.map(n=>(0,i.jsxs)(j,{children:[(0,i.jsx)(k,{type:"checkbox",checked:p.includes(n.id),onChange:()=>g(n.id)}),n.name]},n.id)):(0,i.jsx)("p",{children:"Клиенты не найдены"})]}),(0,i.jsx)(z,{type:"submit",children:"Добавить тренировку"})]})})]})]})}},2488:(n,e,t)=>{"use strict";t.d(e,{N:()=>o});var i=t(851);let r="https://kivipufwogqabxoerpmi.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmlwdWZ3b2dxYWJ4b2VycG1pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMzNTE4MjQsImV4cCI6MjA1ODkyNzgyNH0.jn2hFYd8_AcoYqA6uTO91dAlRt4Q-x0BpYE8vR2q66A";if(!r||!a)throw Error("Supabase URL and Anon Key must be provided in environment variables");let o=(0,i.UU)(r,a)},5628:(n,e,t)=>{"use strict";t.d(e,{m:()=>a});var i=t(5933);function r(){let n=(0,i._)(["\n    margin-left: 15%;\n    margin-top: 3%;\n    margin-right: 15%;\n"]);return r=function(){return n},n}let a=t(4987).Ay.div(r())},7830:(n,e,t)=>{Promise.resolve().then(t.bind(t,2447))},8032:(n,e,t)=>{"use strict";t.d(e,{A:()=>l});var i=t(5155),r=t(5933),a=t(4987);function o(){let n=(0,r._)(["\n    background-color: #E97C00;\n    width: 100%;\n    height: 10vh;\n    display: flex;\n    align-items: center;\n"]);return o=function(){return n},n}function x(){let n=(0,r._)(["\n    color: #fff;\n    font-size: 64px;\n    font-weight: 500;\n    margin-left: 62px;\n"]);return x=function(){return n},n}let d=a.Ay.header(o()),p=a.Ay.h1(x()),l=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d,{children:(0,i.jsx)(p,{children:"FitChecker"})})})},9960:(n,e,t)=>{"use strict";t.d(e,{$v:()=>v,DF:()=>g,Z0:()=>b,an:()=>y,c5:()=>z,hE:()=>w,rk:()=>_,xl:()=>j,z9:()=>k,zA:()=>A});var i=t(5933),r=t(6874),a=t.n(r),o=t(4987);function x(){let n=(0,i._)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 20px;\n  flex-wrap: wrap; /* Добавлено, чтобы блоки переносились на новую строку на мобильных */\n\n  @media (max-width: 768px) {\n    flex-direction: column; /* Вертикальное расположение на мобильных */\n    align-items: center;\n    gap: 15px;\n  }\n"]);return x=function(){return n},n}function d(){let n=(0,i._)(["\n  font-size: 46px;\n\n  @media (max-width: 768px) {\n    font-size: 32px; /* Уменьшенный размер шрифта */\n    text-align: center;\n  }\n"]);return d=function(){return n},n}function p(){let n=(0,i._)(["\n  width: 460px;\n  height: 626px;\n  border: 2px solid black;\n  border-radius: 10px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    width: 90%; /* Занимает почти всю ширину экрана */\n    max-width: 400px;\n    height: auto; /* Высота адаптируется под содержимое */\n    padding: 20px; /* Добавлен отступ для удобства */\n  }\n"]);return p=function(){return n},n}function l(){let n=(0,i._)(["\n  font-size: 300px;\n  margin-left: 36px;\n  display: block; /* Гарантирует правильное позиционирование */\n\n  @media (max-width: 768px) {\n    font-size: 150px; /* Уменьшенный размер для мобильных */\n    margin-left: 0;\n    text-align: center;\n  }\n"]);return l=function(){return n},n}function u(){let n=(0,i._)(["\n  margin-top: 110px;\n  font-size: 36px;\n  margin-left: 36px;\n\n  @media (max-width: 768px) {\n    margin-top: 20px; /* Уменьшен отступ */\n    font-size: 24px;\n    margin-left: 0;\n    text-align: center;\n  }\n"]);return u=function(){return n},n}function c(){let n=(0,i._)(["\n  display: block;\n  text-align: center;\n  margin-left: 33px;\n  width: 384px;\n  height: 121px;\n  background-color: #e97c00;\n  align-content: center;\n  border-radius: 10px;\n  color: white;\n  font-size: 36px;\n  text-decoration: none;\n  margin-top: 26px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    width: 90%; /* Адаптивная ширина */\n    max-width: 350px;\n    height: 80px; /* Уменьшенная высота */\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 24px;\n  }\n"]);return c=function(){return n},n}function s(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media (max-width: 768px) {\n    width: 90%;\n    max-width: 400px;\n  }\n"]);return s=function(){return n},n}function h(){let n=(0,i._)(["\n  font-size: 24px;\n  color: black;\n  margin: 5px 0;\n\n  @media (max-width: 768px) {\n    font-size: 18px;\n  }\n"]);return h=function(){return n},n}function m(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  @media (max-width: 768px) {\n    width: 90%;\n    max-width: 400px;\n    align-items: center;\n    gap: 15px;\n  }\n"]);return m=function(){return n},n}function f(){let n=(0,i._)(["\n  display: block;\n  text-align: center;\n  margin-left: 33px;\n  width: 384px;\n  height: 165px;\n  background-color: #e97c00;\n  align-content: center;\n  border-radius: 10px;\n  color: white;\n  font-size: 36px;\n  text-decoration: none;\n  margin-top: 26px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    width: 90%;\n    max-width: 350px;\n    height: 100px; /* Уменьшенная высота */\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 24px;\n    margin-top: 0;\n  }\n"]);return f=function(){return n},n}let g=o.Ay.div(x()),w=o.Ay.h1(d()),b=o.Ay.div(p()),y=o.Ay.span(l()),z=o.Ay.p(u()),_=(0,o.Ay)(a())(c()),v=o.Ay.div(s()),A=o.Ay.p(h()),j=o.Ay.div(m()),k=(0,o.Ay)(a())(f())}},n=>{var e=e=>n(n.s=e);n.O(0,[605,874,441,684,358],()=>e(7830)),_N_E=n.O()}]);