(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{1629:(n,e,t)=>{Promise.resolve().then(t.bind(t,3556))},2488:(n,e,t)=>{"use strict";t.d(e,{N:()=>a});var r=t(851);let i="https://kivipufwogqabxoerpmi.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmlwdWZ3b2dxYWJ4b2VycG1pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMzNTE4MjQsImV4cCI6MjA1ODkyNzgyNH0.jn2hFYd8_AcoYqA6uTO91dAlRt4Q-x0BpYE8vR2q66A";if(!i||!o)throw Error("Supabase URL and Anon Key must be provided in environment variables");let a=(0,r.UU)(i,o)},3556:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>F});var r=t(5155),i=t(2177),o=t(2115),a=t(2488),d=t(8032),s=t(5933),l=t(4987);function x(){let n=(0,s._)(["\n  max-width: 500px;\n  margin: 50px auto;\n  padding: 20px;\n  border: 2px solid #000;\n  border-radius: 10px;\n  background-color: #f9f9f9;\n  box-sizing: border-box; \n  width: 90%; \n\n  @media (max-width: 768px) {\n    margin: 20px auto; \n    padding: 15px; \n    margin-top: 5%; \n  }\n\n  @media (max-width: 480px) {\n    padding: 10px; \n  }\n"]);return x=function(){return n},n}function p(){let n=(0,s._)(["\n  font-size: 28px;\n  text-align: center;\n  margin-bottom: 20px;\n\n  @media (max-width: 768px) {\n    font-size: 24px;\n    margin-bottom: 15px;\n  }\n\n  @media (max-width: 480px) {\n    font-size: 20px; \n  }\n"]);return p=function(){return n},n}function c(){let n=(0,s._)(["\n  margin-bottom: 15px;\n\n  @media (max-width: 768px) {\n    margin-bottom: 12px; \n  }\n"]);return c=function(){return n},n}function u(){let n=(0,s._)(["\n  display: block;\n  font-size: 16px;\n  margin-bottom: 5px;\n\n  @media (max-width: 768px) {\n    font-size: 14px; \n  }\n"]);return u=function(){return n},n}function m(){let n=(0,s._)(["\n  width: 100%;\n  padding: 8px;\n  font-size: 16px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-sizing: border-box; \n\n  @media (max-width: 768px) {\n    padding: 7px; \n    font-size: 14px; \n  }\n\n  @media (max-width: 480px) {\n    padding: 6px;\n    font-size: 13px;\n  }\n"]);return m=function(){return n},n}function h(){let n=(0,s._)(["\n  width: 100%;\n  padding: 8px;\n  font-size: 16px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    padding: 7px;\n    font-size: 14px;\n  }\n\n  @media (max-width: 480px) {\n    padding: 6px;\n    font-size: 13px;\n  }\n"]);return h=function(){return n},n}function g(){let n=(0,s._)(["\n  width: 100%;\n  padding: 10px;\n  background-color: #e97c00;\n  color: white;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #d16b00;\n  }\n\n  @media (max-width: 768px) {\n    padding: 8px;\n    font-size: 16px; \n  }\n\n  @media (max-width: 480px) {\n    padding: 7px;\n    font-size: 14px;\n  }\n"]);return g=function(){return n},n}function f(){let n=(0,s._)(["\n  color: red;\n  font-size: 14px;\n  text-align: center;\n  margin-top: 10px;\n\n  @media (max-width: 768px) {\n    font-size: 12px; \n    margin-top: 8px;\n  }\n"]);return f=function(){return n},n}function b(){let n=(0,s._)(["\n  color: green;\n  font-size: 14px;\n  text-align: center;\n  margin-top: 10px;\n\n  @media (max-width: 768px) {\n    font-size: 12px;\n    margin-top: 8px;\n  }\n"]);return b=function(){return n},n}function j(){let n=(0,s._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px; \n\n  @media (max-width: 768px) {\n    gap: 8px; \n  }\n"]);return j=function(){return n},n}let y=l.Ay.div(x()),w=l.Ay.h2(p()),z=l.Ay.div(c()),v=l.Ay.label(u()),I=l.Ay.input(m()),A=l.Ay.select(h()),_=l.Ay.button(g()),k=l.Ay.p(f()),N=l.Ay.p(b()),C=l.Ay.form(j());var S=t(6874),E=t.n(S);let F=()=>{let{register:n,handleSubmit:e,reset:t,formState:{errors:s,isSubmitting:l},setError:x}=(0,i.mN)({defaultValues:{sex:"male",subscription:"monthly"}}),[p,c]=(0,o.useState)(null),u=async n=>{try{let e=parseInt(n.age,10);if(isNaN(e)||e<=0){x("age",{type:"manual",message:"Возраст должен быть положительным числом"});return}let{error:r}=await a.N.from("clients").insert([{name:n.name,sex:n.sex,age:e,subscription:n.subscription}]);if(r)throw r;c("Клиент успешно добавлен!"),t()}catch(n){x("root",{type:"manual",message:"Ошибка при добавлении клиента: ".concat(n.message)})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{}),(0,r.jsx)(E(),{href:"/pages/mainPage",children:"Назад"}),(0,r.jsxs)(y,{children:[(0,r.jsx)(w,{children:"Добавить клиента"}),(0,r.jsxs)(C,{onSubmit:e(u),children:[(0,r.jsxs)(z,{children:[(0,r.jsx)(v,{htmlFor:"name",children:"ФИО"}),(0,r.jsx)(I,{type:"text",id:"name",...n("name",{required:"Поле обязательно для заполнения"}),placeholder:"Введите ФИО","aria-invalid":s.name?"true":"false"}),s.name&&(0,r.jsx)(k,{role:"alert",children:s.name.message})]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(v,{htmlFor:"sex",children:"Пол"}),(0,r.jsxs)(A,{id:"sex",...n("sex"),children:[(0,r.jsx)("option",{value:"male",children:"Мужской"}),(0,r.jsx)("option",{value:"female",children:"Женский"})]})]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(v,{htmlFor:"age",children:"Возраст"}),(0,r.jsx)(I,{type:"number",id:"age",...n("age",{required:"Поле обязательно для заполнения",validate:n=>{let e=parseInt(n,10);return!isNaN(e)&&e>0||"Возраст должен быть положительным числом"}}),placeholder:"Введите возраст","aria-invalid":s.age?"true":"false"}),s.age&&(0,r.jsx)(k,{role:"alert",children:s.age.message})]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(v,{htmlFor:"subscription",children:"Тип абонемента"}),(0,r.jsxs)(A,{id:"subscription",...n("subscription"),children:[(0,r.jsx)("option",{value:"monthly",children:"Месячный"}),(0,r.jsx)("option",{value:"quarterly",children:"Квартальный"}),(0,r.jsx)("option",{value:"yearly",children:"Годовой"})]})]}),(0,r.jsx)(_,{type:"submit",disabled:l,children:l?"Добавление...":"Добавить клиента"}),s.root&&(0,r.jsx)(k,{role:"alert",children:s.root.message}),p&&(0,r.jsx)(N,{role:"status",children:p})]})]})]})}},8032:(n,e,t)=>{"use strict";t.d(e,{A:()=>m});var r=t(5155),i=t(5933),o=t(4987);function a(){let n=(0,i._)(["\n    background-color: #E97C00;\n    width: 100%;\n    height: 10vh;\n    display: flex;\n    align-items: center;\n"]);return a=function(){return n},n}function d(){let n=(0,i._)(["\n    color: #fff;\n    font-size: 64px;\n    font-weight: 500;\n    margin-left: 62px;\n"]);return d=function(){return n},n}function s(){let n=(0,i._)(["\n    padding: 0.5rem 1rem;\n    background-color: #e97c00;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 1rem;\n    transition: background-color 0.3s;\n\n    &:hover {\n        background-color: #d16b00;\n    }\n"]);return s=function(){return n},n}let l=o.Ay.header(a()),x=o.Ay.h1(d()),p=o.Ay.button(s());var c=t(5695),u=t(2115);let m=()=>{let n=(0,c.useRouter)(),[e,t]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{let n="true"===localStorage.getItem("isAdminLoggedIn"),e="true"===localStorage.getItem("isClientLoggedIn");t(n||e)},[]),(0,r.jsxs)(l,{children:[(0,r.jsx)(x,{children:"FitChecker"}),e&&(0,r.jsx)(p,{onClick:()=>{localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("isClientLoggedIn"),n.push("/")},children:"Выйти"})]})}}},n=>{var e=e=>n(n.s=e);n.O(0,[825,851,874,558,441,684,358],()=>e(1629)),_N_E=n.O()}]);